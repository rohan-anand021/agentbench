task_spec_version: '1.0'
id: psf__requests-2148
suite: swe-bench-lite-10
repo:
  url: https://github.com/psf/requests
  commit: fe693c492242ae532211e0c173324f09ca8cf227
environment:
  docker_image: python:3.9-slim
  workdir: /workspace
  timeout_sec: 180
setup:
  commands:
  - pip install --upgrade pip
  - pip install 'setuptools<69' wheel
  - pip install 'setuptools_scm>=6.2'
  - pip install 'oldest-supported-numpy' 'numpy<2'
  - pip install 'cython==0.29.22'
  - pip install extension-helpers
  - pip install pytest
  - pip install --no-build-isolation -e .
run:
  command: >
    pytest -q test_requests.py -k
    "test_DIGEST_AUTH_RETURNS_COOKIE or test_HTTP_200_OK_GET_ALTERNATIVE or test_HTTP_200_OK_HEAD or test_POSTBIN_GET_POST_FILES or test_auth_is_stripped_on_redirect_off_host or test_basicauth_with_netrc or test_cookie_quote_wrapped or test_generic_cookiejar_works or test_iter_content_handles_socket_error or test_unicode_multipart_post"
agent:
  entrypoint: llm_v0
  max_steps: 20
labels:
  - swe-bench-lite
  - network
